!function(e){var n={};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=1)}([function(e,n){e.exports=require("util")},function(e,n,o){"use strict";o.r(n),function(e){var n=o(0),t=o.n(n);const r=o(2),i=(o(3),r()),s=o(4);i.use(r.static("public")),i.set("views",e+"/views"),i.set("view engine","ejs"),i.engine("html",o(5).renderFile),i.get("/",(e,n)=>{n.render("index",{name:"홍길동"})}),i.get("/test/:email",(e,n)=>{s.email=e.params.email,n.json(s)});const c=i.listen(7e3,function(){console.log("Express Server's started on port 7000 by T")}),u=o(6).listen(c,{log:!1,origins:"*:*",pingInterval:3e3,pingTimeout:5e3});u.sockets.on("connection",function(e,n){let o=e.handshake.query;t.a.log("Client connected...",e.id,e.handshake.query),e.emit("message",{msg:"Welcome "+e.id},e.id,o),e.on("join",function(n,o){e.join(n,function(){t.a.log("join>>",n,Object.keys(e.rooms)),o&&o(n,Object.keys(e.rooms))})}),e.on("leave",function(n,o){e.leave(n,function(){t.a.log("leave>>",n,Object.keys(e.rooms)),o&&o(n,Object.keys(e.rooms))})}),e.on("rooms",function(n){n&&n(Object.keys(e.rooms))}),e.on("message",function(n,o){t.a.log("message>>",n,Object.keys(e.rooms)),o&&o(n.msg),u.to(n.room).emit("message",{msg:n.msg}),e.broadcast.emit("message",{msg:"BBBBBBBBBBBBBB"})}),e.on("disconnect",function(){t.a.log("disconnect>>",e.rooms)}),e.on("disconnecting",n=>{Object.keys(e.rooms);t.a.log("disconnecting>>",e.rooms)})})}.call(this,"/")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("hashmap")},function(e){e.exports={id:123,name:"홍길동"}},function(e,n){e.exports=require("ejs")},function(e,n){e.exports=require("socket.io")}]);